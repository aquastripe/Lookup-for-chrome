var LDO={init:function(){var e=document.createElement("iframe");e.setAttribute("id","__iframe_window");if(t==undefined){var t=document.createElement("div");t.setAttribute("name","lookup_definitions_online_container");t.setAttribute("id","popup");t.setAttribute("title","Click and drag to move");t.setAttribute("style","background-image:url(http://cdn.sstatic.net/Img/mini-hero-bg.png);")}else{t.innerHTML=""}var n=window.innerHeight*.1+"px";var r=window.innerWidth*.1+"px";var i=window.innerHeight*.8+"px";var s=window.innerWidth*.8+"px";var o=t.getAttribute("style");t.setAttribute("style",o+"padding-top:24px;cursor:move;"+"height:"+i+";left:"+r+";width:"+s+";top:"+n+";z-index:16777270;");var u=document.createElement("div");u.innerHTML="X";u.setAttribute("id","__close_lookup");var f=$.parseJSON(a);var l=f[0];var c=f[1];var h=f[2];var p=document.createElement("select");p.setAttribute("id","listbox");for(var d=0;d<h.length;d++){if(h[d].func=="UrbanDict"||h[d].func=="Definition"||h[d].func==""){continue}var v=document.createElement("option");v.value=h[d].url+c;v.text=h[d].title;if(v.value==l){v.setAttribute("selected","selected")}p.appendChild(v)}t.appendChild(e);t.appendChild(u);t.appendChild(p);document.body.appendChild(t);e.contentDocument.write("<html><body><div style='width:100%; "+"color: gray; text-align: center; line-height: 100%;'><i style='padding-top: 100px;"+"display: block;'>loading...</i></div></body></html>");e.setAttribute("src",l);$("#popup").fadeIn("1600");LDO.attachHandlers(e)},attachHandlers:function(e){LDO.makeDraggable();$(document).keyup(function(e){if(e.keyCode==27){LDO.close()}});$("#__close_lookup").click(function(){LDO.close()});$("#listbox").change(function(){LDO.updatePopup(this,e)})},close:function(){$("#popup").fadeOut("600",function(){$("#popup").remove()})},makeDraggable:function(){$("#popup").draggable()},updatePopup:function(e,t){if(e.value!=""){t.setAttribute("src",e.value)}}};LDO.init()
